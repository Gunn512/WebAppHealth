@using WebAppHealth.Models
@model List<Department>

@{
    ViewBag.Title = "Nội Khoa";
    Layout = "~/Views/Shared/_HealthLayout.cshtml";

    // Lấy Dictionary từ Controller
    var positionMap = ViewBag.PositionMap as Dictionary<int, string>;

    // 1. Breadcrumb
    var breadcrumbs = new List<BreadcrumbItem>
{
        new BreadcrumbItem { Title = "Khám chữa bệnh", Url = "" },
        new BreadcrumbItem { Title = "Nội Khoa", Url = "" }
    };

    // 2. Sidebar
    var sidebarItems = new List<SidebarItem>();
    if (Model != null)
    {
        foreach (var dept in Model)
        {
            sidebarItems.Add(new SidebarItem { Title = dept.Name, Url = "#" + dept.slug });
        }
    }
}

@section Styles {
    <link rel="stylesheet" href="~/Content/css/intro.css" />
    <link rel="stylesheet" href="~/Content/css/noikhoa.css" />
}

@helper RenderDoctors(string deptName, List<Department> model, Dictionary<int, string> posMap)
{
    var dept = model.FirstOrDefault(d => d.Name.Equals(deptName, StringComparison.OrdinalIgnoreCase));

    if (dept != null && dept.Doctors != null && dept.Doctors.Any())
    {

        var allDoctors = dept.Doctors.OrderBy(d => d.PositionID.HasValue ? d.PositionID.Value : 999).ToList();

        var leaders = new List<Doctor>();
        var staff = new List<Doctor>();

        foreach (var doc in allDoctors)
        {
            string pName = "";
            if (doc.PositionID.HasValue && posMap != null && posMap.ContainsKey(doc.PositionID.Value))
            {
                pName = posMap[doc.PositionID.Value];
            }

            if (!string.IsNullOrEmpty(pName) && (pName.Contains("Trưởng khoa") || pName.Contains("Giám đốc")))
            {
                leaders.Add(doc);
            }
            else
            {
                staff.Add(doc);
            }
        }

        <ul class="personnel-list">

            @foreach (var doc in leaders)
            {
                string tenChucVu = posMap[doc.PositionID.Value];

                <li class="main-list mb-2">
                    <strong>@tenChucVu:</strong>
                    <a href="#" class="text-decoration-none"
                       data-bs-toggle="modal"
                       data-bs-target="#personnelModal"
                       data-name="@(doc.Degree) @(doc.FullName)"
                       data-role="@tenChucVu"
                       data-image="/asset/@(string.IsNullOrEmpty(doc.Avatar) ? "avatar-default.jpg" : doc.Avatar)"
                       data-hocvi="@doc.Bio"
                       data-chuyenkhoa="@deptName"
                       data-chucvu="@tenChucVu"
                       data-lichlamviec="Thứ 2 - Thứ 6: 7:00 - 16:30">
                        @(doc.Degree) @(doc.FullName)
                    </a>
                </li>
            }

            @if (staff.Count > 0)
            {

                <li class="main-list list-dropdown">
                    <strong>Bác sĩ điều trị:</strong>

                    <ul class="doctor-list">
                        @foreach (var doc in staff)
                        {
                            string tenChucVu = "Bác sĩ";
                            if (doc.PositionID.HasValue && posMap != null && posMap.ContainsKey(doc.PositionID.Value))
                            {
                                tenChucVu = posMap[doc.PositionID.Value];
                            }

                            <li>
                                <a href="#" class="text-decoration-none"
                                   data-bs-toggle="modal"
                                   data-bs-target="#personnelModal"
                                   data-name="@(doc.Degree) @(doc.FullName)"
                                   data-role="@tenChucVu"
                                   data-image="/asset/@(string.IsNullOrEmpty(doc.Avatar) ? "avatar-default.jpg" : doc.Avatar)"
                                   data-hocvi="@doc.Bio"
                                   data-chuyenkhoa="@deptName"
                                   data-chucvu="@tenChucVu"
                                   data-lichlamviec="Thứ 2 - Thứ 6: 7:00 - 16:30">
                                    @(doc.Degree) @(doc.FullName)
                                </a>
                            </li>
                        }
                    </ul>
                </li>
            }
        </ul>
    }
    else
    {
        <p class="text-muted fst-italic">Đang cập nhật danh sách nhân sự.</p>
    }
}


<section class="banner-title">
    <div class="container">
        @Html.Partial("_SectionTitle", "NỘI KHOA")
    </div>
</section>

<main class="page-container">
    <div class="container">

        @Html.Partial("_Breadcrumb", breadcrumbs)

        <div class="mt-4">
            <div class="row">

                <div class="col-lg-3">
                    @Html.Partial("_Sidebar", sidebarItems)
                </div>

                <div class="col-lg-9">

                    <section id="khoa-kham-benh" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Khám bệnh</h2>
                        <div class="content-list">
                            <p>Là một trong những khoa nòng cốt của Bệnh viện, Khoa khám bệnh không ngừng cải tiến các quy trình, ứng dụng công nghệ thông tin trong công tác khám, chữa bệnh.</p>
                            <p>Chúng tôi luôn tự hào vì có một đội ngũ bác sĩ giỏi, dày dạn kinh nghiệm ở tất cả các chuyên khoa sâu.</p>
                            <p>Với quyết tâm không ngừng đổi mới, luôn phục vụ tốt nhất cho người bệnh, chúng tôi đã thay đổi mạnh cả về cơ sở vật chất và hướng tới một phong cách phục vụ tận tâm và chuyên nghiệp nhằm ngày một nâng cao sự hài lòng của người bệnh.</p>
                            <p>Slogan của khoa: “Chuyên nghiệp - Tận tâm - Chu đáo”</p>
                        </div>
                        <img src="~/asset/banner_01.jpg" class="img-fluid rounded mb-3" alt="" />

                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Khám bệnh", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-cap-cuu" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Cấp Cứu</h2>
                        <div class="content-list">
                            <p>Khoa Cấp Cứu - Bệnh Viện Đa khoa Khu vực Thủ Đức hoạt động 24/24, cho tất cả các đối tượng có tình trạng sức khỏe cấp tính đe dọa đến tính mạng, vào tất cả các ngày trong năm kể cả ngày lễ, tết.</p>
                            <p>Tất cả bệnh nhân tại Khoa cấp cứu được xử trí, duy trì ổn định, điều trị cho đến khi chuyển sang thăm khám ngoại trú, lưu viện hoặc chuyển viện tùy theo tình trạng y tế cũng như nhu cầu của từng bệnh nhân.</p>
                            <p>Nếu bạn gặp những vấn đề khẩn cấp về tình trạng sức khỏe như tai nạn, bệnh cấp tính nghiêm trọng, bị thương, hãy gọi khoa <span>Cấp cứu (115)</span> - Bệnh viện ĐKKKV Thủ Đức theo số: <span>+(84) 28 38966894</span> để được hỗ trợ cấp cứu ngoài viện hoặc đến ngay khoa Cấp cứu của bệnh viện để được xử lý kịp thời.</p>
                            <p>Slogan của khoa: "Khẩn trương, an toàn và hiệu quả"</p>
                        </div>

                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Cấp cứu", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-hoi-suc-tich-cuc-chong-doc" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Hồi Sức Tích Cực - Chống Độc</h2>
                        <div class="content-list">
                            <p>Khoa Hồi sức tích cực - chống độc là khoa lâm sàng điều trị và chăm sóc tích cực cho những người bệnh nội - ngoại khoa nặng, hỗ trợ chuyên môn và phối hợp điều trị cho các khoa lâm sàng.</p>
                            <p>Khoa hiện có 30 giường bệnh gồm 4 khu vực: khu hồi sức bệnh nội khoa và chống độc, khu hồi sức bệnh ngoại khoa, khu hồi sức ngoại thần kinh, khu cách ly. Các trang thiết bị được trang bị đầy đủ và hiện đại từ những máy nhỏ như bơm tiêm tự động, máy truyền dịch, monitor, khí máu động mạch…tới những máy lớn như máy thở, máy lọc máu, máy lọc thận, hạ thân nhiệt, ECMO… cùng đội ngũ nhân viên đầy tâm huyết đã được đào tạo bài bản chuyên sâu, liên tục cập nhật kiến thức mới.</p>
                            <p>Slogan của khoa: "Tích cực đến cùng"</p>
                        </div>
                        <img src="~/asset/banner_01.jpg" class="img-fluid rounded mb-3" alt="" />

                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Hồi sức tích cực – Chống độc", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-noi-tong-hop" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Nội Tổng Hợp</h2>
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <div class="content-list">
                                    <p>Khoa nội tổng hợp là một trong những khoa có bề dày kinh nghiệm, với chức năng khám và điều trị các bệnh thuộc chuyên khoa hô hấp và thần kinh. Ngoài ra khoa chúng tôi còn là môi trường đào tạo thực hành cho sinh viên các trường Đại học, Cao đẳng y khoa trong khu vực và các tỉnh lân cận.</p>
                                    <p>Chúng tôi luôn lấy sự vui vẻ và thân thiện làm chuẩn mực trong chăm sóc người bệnh, không ngừng tiếp cận những phương pháp chẩn đoán và điều trị mới để đáp ứng nhu cầu khám chữa bệnh ngày càng cao của người dân.</p>
                                    <p>Trang thiết bị hiện có: Máy đo chức năng hô hấp, máy đo điện não, máy đo điện cơ.</p>
                                    <p>Slogan của Khoa: “Tận tâm chăm sóc - Tận tình lắng nghe”</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div id="carouselNoiTongHop" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3000">
                                    <div class="carousel-inner rounded shadow-sm content-carousel">
                                        <div class="carousel-item active"><img src="~/asset/banner_02.jpg" class="d-block w-100" alt="1" /></div>
                                        <div class="carousel-item"><img src="~/asset/banner_03.jpg" class="d-block w-100" alt="2" /></div>
                                        <div class="carousel-item"><img src="~/asset/banner_04.jpg" class="d-block w-100" alt="3" /></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="personnel-section mt-3">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Nội tổng hợp", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-noi-than-kinh" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Nội Thần Kinh</h2>
                        <div class="content-list">
                            <div class="title-list">Chức năng nhiệm vụ và hoạt động:</div>
                            <ul>
                                <li>Thu dung, điều trị nội, ngoại trú các bệnh về nguyên ngành thần kinh như: tai biến mạch máu não, đau đầu, chóng mặt, mất ngủ, đau cột sống, thoát vị đĩa đệm cột sống...</li>
                                <li>Tổ chức câu lạc bộ thần kinh và đột quỵ nhằm tuyên truyền, giáo dục sức khoẻ cho bệnh nhân, người nhà về bệnh lý đột quỵ não và cách xử trí khi cần thiết.</li>
                            </ul>

                            <div class="title-list">Thành tựu:</div>
                            <ul>
                                <li>Tập thể lao động xuất sắc: Nhiều năm liên tục.</li>
                                <li>Khoa đã đạt 04 lần liên tiếp “Chứng nhận Vàng” ,04 lần liên tiếp "Chứng nhận Bạch Kim" trong việc đánh giá chất lượng điều trị Đột quỵ theo Hội Đột quỵ Thế giới (WSO).</li>
                                <li>Phấn đấu đạt “Chứng nhận Kim Cương” về chất lượng điều trị đột quỵ theo Hội Đột quỵ Thế giới (WSO).</li>
                            </ul>
                            <p>Slogan của khoa: "Vì một hệ thần kinh khỏe"</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Nội thần kinh", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-noi-tim-mach" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Nội Tim Mạch</h2>
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <div class="content-list">
                                    <p>Khoa Nội Tim mạch được thành lập từ năm 1999, tiền thân là khoa Nội C, khi Trung tâm y tế Thủ Đức được nâng cấp thành Bệnh viện Đa khoa khu vực hạng II trực thuộc Sở Y tế. Trưởng khoa đầu tiên là BS Lê Hà Chí, khoa đảm nhận nhiệm vụ tim mạch tổng quát với 50 giường bệnh.</p>
                                    <div class="title-list">Chức năng - Nhiệm vụ:</div>
                                    <ul>
                                        <li>Khoa phụ trách 4 bàn khám ngoại trú; hoạt động 5 ngày trong tuần.</li>
                                        <li>Chỉ tiêu 65 giường bệnh, 1 phòng Hồi sức Tim mạch (mức 1).</li>
                                        <li>Các thăm dò chức năng tại khoa: siêu âm tim, holter điện tim, holter huyết áp, điện tâm đồ gắng sức.</li>
                                    </ul>
                                    <p>Slogan của khoa: Tất cả "vì một trái tim khoẻ" luôn hướng tới người bệnh với sự tôn trọng, lắng nghe và chia sẻ.</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div id="carouselNoiTimMach" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3200">
                                    <div class="carousel-inner rounded shadow-sm content-carousel">
                                        <div class="carousel-item active"><img src="~/asset/banner_02.jpg" class="d-block w-100" alt="1" /></div>
                                        <div class="carousel-item"><img src="~/asset/banner_03.jpg" class="d-block w-100" alt="2" /></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Nội Tim mạch", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-noi-tieu-hoa" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Nội Tiêu Hóa</h2>
                        <div class="content-list">
                            <p>Khoa nội tiêu hóa của Bệnh viện Đa khoa khu vực Thủ Đức là đơn vị chuyên thực hiện nhiệm vụ tầm soát, chẩn đoán, điều trị và chăm sóc bệnh nhân thuộc lĩnh vực chuyên khoa nội tiêu hóa và gan mật.</p>
                            <p>Với quy mô 60 giường bệnh cùng vị trí thoáng mát, có đầy đủ trang thiết bị phục vụ người bệnh, đặc biệt là hệ thống nội soi tiêu hóa; cùng đội ngũ Bác sĩ, Điều dưỡng có chuyên môn và nhiều kinh nghiệm, nhiệt tình, năng động.</p>
                            <p>Slogan của khoa: “Tận tâm, tận lực vì một hệ tiêu hóa khỏe”</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Nội Tiêu hóa", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-noi-than-tiet-nieu" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Nội Thận - Tiết Niệu</h2>
                        <div class="content-list">
                            <p>Khoa Nội thận - Tiết niệu của bệnh viện là một trong những đơn vị đi đầu trong lĩnh vực khám và điều trị các bệnh lý về thận như suy thận, viêm cầu thận, hội chứng thận hư, lupus ban đỏ, nhiễm trùng tiểu,...</p>
                            <p>Với đội ngũ bác sĩ chuyên nghiệp, giàu kinh nghiệm cùng hệ thống trang thiết bị hiện đại, chúng tôi cung cấp phác đồ điều trị toàn diện cho các bệnh lý liên quan đến thận. Khoa sử dụng công nghệ chạy thận nhân tạo tiên tiến từ Đức để hỗ trợ bệnh nhân trong việc lọc máu và duy trì sự cân bằng nước, chất điện giải.</p>
                            <p>Slogan: "Gần gũi - Lắng nghe - Chia sẻ"</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Nội thận - Tiết niệu", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-noi-tiet" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Nội Tiết</h2>
                        <div class="content-list">
                            <p>Được thành lập từ năm 2009, các cá nhân trong khoa luôn nỗ lực cùng nhau thăm khám, chăm sóc tận tình cho từng bệnh nhân, cùng nhau trau dồi chia sẻ kiến thức chuyên môn, phát triển nghề nghiệp nhằm đáp ứng chất lượng khám chữa bệnh tốt nhất dành cho quý bệnh nhân.</p>
                            <p>Khoa Nội tiết luôn là người bạn đồng hành thân thiết bên cạnh quý bệnh nhân nhằm hướng đến mục tiêu cải thiện sức khoẻ và nâng cao chất lượng cuộc sống.</p>
                            <p>Slogan của khoa: "Nội Tiết Chung Sức - Chung Lòng - Tận Tâm - Phục Vụ"</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Nội tiết", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-nhiem" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Nhiễm</h2>
                        <div class="content-list">
                            <p>Khoa Nhiễm Bệnh Viện Đa Khoa Khu Vực Thủ Đức đang hoạt động với 19 nhân sự cùng chỉ tiêu 80 giường bệnh. Khoa được phân công tiếp nhận và điều trị các bệnh lý truyền Nhiễm như: Sốt Xuất Huyết, Nhiễm siêu vi, Sởi, Cúm, Thuỷ đậu, Uốn ván, Viêm màng não mủ, Dengue, Viêm gan vi rút và các bệnh lý nhiễm trùng khác.</p>
                            <p>Slogan của khoa: “Ngăn bệnh truyền nhiễm – Đạt điểm tận tâm”</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Nhiễm", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-phuc-hoi-chuc-nang" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Phục Hồi Chức Năng</h2>
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <div class="content-list">
                                    <div class="title-list">I. Lịch sử phát triển</div>
                                    <p>Trước khi hoạt động độc lập và từng bước phát triển như hiện tại, khoa Phục hồi chức năng đã có thời gian dài hoạt động kết hợp chung với khoa Y học cổ truyền của bệnh viện.</p>
                                    <div class="title-list">III. Các kỹ thuật điều trị:</div>
                                    <ul>
                                        <li>Thoái hóa, thoát vị đĩa đệm cột sống cổ, thắt lưng.</li>
                                        <li>Vật lý trị liệu: hồng ngoại, siêu âm, sóng ngắn, điện trị liệu...</li>
                                        <li>Vận động trị liệu: tập vận động có trợ giúp/kháng trở...</li>
                                    </ul>
                                    <p>Slogan của khoa: “Phục hồi chức năng - Nâng tầm cuộc sống”</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div id="carouselPHCN" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3500">
                                    <div class="carousel-inner rounded shadow-sm content-carousel">
                                        <div class="carousel-item active"><img src="~/asset/banner_06.jpg" class="d-block w-100" alt="PHCN 1" /></div>
                                        <div class="carousel-item"><img src="~/asset/banner_04.jpg" class="d-block w-100" alt="PHCN 2" /></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="personnel-section mt-3">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Phục hồi chức năng", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-nhi" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Nhi</h2>
                        <div class="content-list">
                            <p>Khoa Nhi của Bệnh viện Đa khoa Khu Vực Thủ Đức là địa chỉ uy tín trong việc chăm sóc sức khỏe cho trẻ em từ 0 đến 15 tuổi. Đây là nơi quy tụ đội ngũ y bác sĩ giàu kinh nghiệm, tận tâm, cùng hệ thống trang thiết bị hiện đại.</p>
                            <p>Khoa Nhi đặc biệt tập trung phát triển hai lĩnh vực mũi nhọn là chăm sóc sơ sinh và hồi sức nhi.</p>
                            <p>Slogan của khoa: “Bé khỏe - Mẹ vui - Nhân đôi hạnh phúc”</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Nhi", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-y-hoc-co-truyen" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Y Học Cổ Truyền</h2>
                        <div class="content-list">
                            <div class="title-list">1. GIỚI THIỆU CHUNG:</div>
                            <p>Khoa Y học cổ truyền được thành lập năm 2011 thực hiện chức năng, nhiệm vụ khám và điều trị các bệnh lý bằng các phương pháp y học cổ truyền kết hợp phục hồi chức năng - vật lý trị liệu.</p>
                            <div class="title-list">2. CHỨC NĂNG, NHIỆM VỤ:</div>
                            <ul>
                                <li>Khám bệnh, điều trị ngoại trú, kết hợp điều trị nội trú với các khoa lâm sàng.</li>
                                <li>Chú trọng sử dụng thuốc nam, châm cứu, xoa bóp, bấm huyệt, cấy chỉ...</li>
                            </ul>
                            <p>Slogan của Khoa: “Chẩn trị tốt - Bấm huyệt hay - Hăng say điều trị”</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Y học cổ truyền", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>
    </div>
</main>

<div class="modal fade" id="personnelModal" tabindex="-1" aria-labelledby="personnelModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="personnelModalLabel">Thông tin Bác Sĩ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <img id="modalDirectorImage" src="" class="img-fluid rounded" alt="Ảnh bác sĩ" />
                    </div>
                    <div class="col-md-8">
                        <h3 id="modalDirectorName" class="director-name-modal"></h3>
                        <span id="modalDirectorRole" class="director-role-modal"></span>
                        <table class="table table-borderless table-sm mt-3">
                            <tbody>
                                <tr><td style="width: 120px"><strong>Thông tin:</strong></td><td id="modalDirectorHocVi"></td></tr>
                                <tr><td><strong>Chuyên khoa:</strong></td><td id="modalDirectorChuyenKhoa"></td></tr>
                                <tr><td><strong>Chức vụ:</strong></td><td id="modalDirectorChucVu"></td></tr>
                                <tr><td><strong>Lịch làm việc:</strong></td><td id="modalDirectorLich"></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" style="background-color: var(--main); border-color: var(--main)">Đóng</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var personnelModal = document.getElementById("personnelModal");
            if (personnelModal) {
                personnelModal.addEventListener("show.bs.modal", function (event) {
                    // Lấy nút vừa được bấm
                    var button = event.relatedTarget;

                    // Lấy dữ liệu từ data attribute
                    var name = button.getAttribute("data-name");
                    var role = button.getAttribute("data-role");
                    var image = button.getAttribute("data-image");
                    var hocvi = button.getAttribute("data-hocvi");
                    var chuyenkhoa = button.getAttribute("data-chuyenkhoa");
                    var chucvu = button.getAttribute("data-chucvu");
                    var lich = button.getAttribute("data-lichlamviec");

                    // Đổ dữ liệu vào Modal
                    personnelModal.querySelector("#modalDirectorName").textContent = name;
                    personnelModal.querySelector("#modalDirectorRole").textContent = role;
                    personnelModal.querySelector("#modalDirectorImage").src = image;
                    personnelModal.querySelector("#modalDirectorHocVi").textContent = hocvi;
                    personnelModal.querySelector("#modalDirectorChuyenKhoa").textContent = chuyenkhoa;
                    personnelModal.querySelector("#modalDirectorChucVu").textContent = chucvu;
                    personnelModal.querySelector("#modalDirectorLich").textContent = lich;
                });
            }
        });
    </script>
}