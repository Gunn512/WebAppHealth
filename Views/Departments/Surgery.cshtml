@using WebAppHealth.Models
@model List<Department>

@{
    ViewBag.Title = "Ngoại Khoa";
    Layout = "~/Views/Shared/_HealthLayout.cshtml";

    // Lấy Dictionary từ Controller
    var positionMap = ViewBag.PositionMap as Dictionary<int, string>;

    // 1. Breadcrumb
    var breadcrumbs = new List<BreadcrumbItem>
{
        new BreadcrumbItem { Title = "Khám chữa bệnh", Url = "" },
        new BreadcrumbItem { Title = "Ngoại Khoa", Url = "" }
    };

    // 2. Sidebar
    var sidebarItems = new List<SidebarItem>();
    if (Model != null)
    {
        foreach (var dept in Model)
        {
            sidebarItems.Add(new SidebarItem { Title = dept.Name, Url = "#" + dept.slug });
        }
    }
}

@section Styles {
    <link rel="stylesheet" href="~/Content/css/intro.css" />
    <link rel="stylesheet" href="~/Content/css/noikhoa.css" />
}

@helper RenderDoctors(string deptName, List<Department> model, Dictionary<int, string> posMap)
{
    var dept = model.FirstOrDefault(d => d.Name.Equals(deptName, StringComparison.OrdinalIgnoreCase));

    if (dept != null && dept.Doctors != null && dept.Doctors.Any())
    {

        var allDoctors = dept.Doctors.OrderBy(d => d.PositionID.HasValue ? d.PositionID.Value : 999).ToList();

        var leaders = new List<Doctor>();
        var staff = new List<Doctor>();

        foreach (var doc in allDoctors)
        {
            string pName = "";
            if (doc.PositionID.HasValue && posMap != null && posMap.ContainsKey(doc.PositionID.Value))
            {
                pName = posMap[doc.PositionID.Value];
            }

            if (!string.IsNullOrEmpty(pName) && (pName.Contains("Trưởng khoa") || pName.Contains("Giám đốc")))
            {
                leaders.Add(doc);
            }
            else
            {
                staff.Add(doc);
            }
        }

        <ul class="personnel-list">

            @foreach (var doc in leaders)
            {
                string tenChucVu = posMap[doc.PositionID.Value];

                <li class="main-list mb-2">
                    <strong>@tenChucVu:</strong>
                    <a href="#" class="text-decoration-none"
                       data-bs-toggle="modal"
                       data-bs-target="#personnelModal"
                       data-name="@(doc.Degree) @(doc.FullName)"
                       data-role="@tenChucVu"
                       data-image="/asset/@(string.IsNullOrEmpty(doc.Avatar) ? "avatar-default.jpg" : doc.Avatar)"
                       data-hocvi="@doc.Bio"
                       data-chuyenkhoa="@deptName"
                       data-chucvu="@tenChucVu"
                       data-lichlamviec="Thứ 2 - Thứ 6: 7:00 - 16:30">
                        @(doc.Degree) @(doc.FullName)
                    </a>
                </li>
            }

            @if (staff.Count > 0)
            {

                <li class="main-list list-dropdown">
                    <strong>Bác sĩ điều trị:</strong>

                    @* Danh sách lồng bên trong *@
                    <ul class="doctor-list">
                        @foreach (var doc in staff)
                        {
                            // Lấy tên chức vụ (dù là nhân viên cũng nên lấy để hiển thị trong Modal)
                            string tenChucVu = "Bác sĩ";
                            if (doc.PositionID.HasValue && posMap != null && posMap.ContainsKey(doc.PositionID.Value))
                            {
                                tenChucVu = posMap[doc.PositionID.Value];
                            }

                            <li>
                                <a href="#" class="text-decoration-none"
                                   data-bs-toggle="modal"
                                   data-bs-target="#personnelModal"
                                   data-name="@(doc.Degree) @(doc.FullName)"
                                   data-role="@tenChucVu"
                                   data-image="/asset/@(string.IsNullOrEmpty(doc.Avatar) ? "avatar-default.jpg" : doc.Avatar)"
                                   data-hocvi="@doc.Bio"
                                   data-chuyenkhoa="@deptName"
                                   data-chucvu="@tenChucVu"
                                   data-lichlamviec="Thứ 2 - Thứ 6: 7:00 - 16:30">
                                    @(doc.Degree) @(doc.FullName)
                                </a>
                            </li>
                        }
                    </ul>
                </li>
            }
        </ul>
    }
    else
    {
        <p class="text-muted fst-italic">Đang cập nhật danh sách nhân sự.</p>
    }
}


@* =================== Content Section =================*@
<section class="banner-title">
    <div class="container">
        @Html.Partial("_SectionTitle", "NGOẠI KHOA")
    </div>
</section>

<main class="page-container">
    <div class="container">

        @Html.Partial("_Breadcrumb", breadcrumbs)

        <div class="mt-4">
            <div class="row">

                <div class="col-lg-3">
                    @Html.Partial("_Sidebar", sidebarItems)
                </div>

                <div class="col-lg-9">

                    <section id="khoa-ngoai-tong-hop" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa ngoại tổng hợp</h2>
                        <div class="content-list">
                            <p>
                                Khoa ngoại tổng hợp là một trong các chuyên khoa quan trọng,
                                với bề dày kinh nghiệm, Khoa chung tôi đã khám và phát hiện
                                ra nhiều căn bệnh phức tạp thuộc chuyên khoa Ngoại Tổng Quát
                                và Ung thư, từ đó tiến hành can thiệp phẫu thuật hóa trị,
                                điều trị triệt để cho bệnh nhân. Ngoài ra, khoa chúng tôi
                                còn thường xuyên cập nhật các tiến bộ khoa học kỹ thuật của
                                thế giới và đã đưa vào ứng dụng thành công mang lại nhiều
                                lợi ích cho người bệnh.
                            </p>
                            <p>
                                Với chức năng nhiệm vụ chính là khám chữa bệnh; truyền thông
                                giáo dục sức khỏe phòng bệnh; đào tạo và nghiên cứu khoa
                                học.
                            </p>
                            <p>
                                Bên cạnh đó, chúng tôi có 12 phòng với 55 giường được bố trí
                                trong khuôn viên thoáng mát, rộng rãi; trang bị thiết bị y
                                tế đầy đủ; đội ngũ nhân viên nhiều kinh nghiệm, nhiệt tình,
                                năng động. Chúng tôi đảm bảo và cam kết mang lại sự hài lòng
                                nhất cho từng người bệnh.
                            </p>
                            <p>
                                Slogan của khoa: “An toàn bệnh nhân là điểm đến của khoa
                                Ngoại”
                            </p>
                        </div>
                        <img src="~/asset/banner_01.jpg" class="img-fluid rounded mb-3" alt="" />

                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa ngoại tổng hợp", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-ngoai-than-kinh" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Ngoại Thần Kinh</h2>
                        <div class="content-list">
                            <p>
                                Khoa Ngoại Thần Kinh - Bệnh viện Đa khoa Khu vực Thủ Đức là
                                đơn vị chuyên sâu trong chẩn đoán, điều trị và phẫu thuật
                                các bệnh lý về cột sống, sọ não. Với đội ngũ bác sĩ giàu
                                kinh nghiệm và hệ thống trang thiết bị hiện đại, khoa không
                                ngừng nâng cao chất lượng khám chữa bệnh nhằm mang lại kết
                                quả điều trị tốt nhất cho bệnh nhân.
                            </p>
                            <div class="title-list">Chức năng nhiệm vụ khoa:</div>
                            <ul>
                                <li>
                                    - Chẩn đoán, điều trị và theo dõi các bệnh lý thuộc chuyên
                                    khoa Ngoại Thần Kinh phối hợp với các chuyên khoa khác
                                    trong bệnh viện trong việc điều trị và theo dõi các bệnh
                                    lý đồng mắc của bệnh nhân.
                                </li>
                                <li>
                                    - Thực hiện công tác truyền thông giáo dục sức khoẻ cho
                                    bệnh nhân thông qua tư vấn trực tiếp, các bài viết y học
                                    thường thức,…
                                </li>
                            </ul>
                            <div class="title-list">Lĩnh vực mũi nhọn:</div>
                            <ul>
                                <li>
                                    - Chẩn đoán và điều trị các bệnh lý cột sống và sọ não.
                                </li>
                                <li>
                                    - Phẫu thuật các bệnh lý cột sống, bao gồm: thoát vị đĩa
                                    đệm, thoái hóa cột sống, gãy trượt đốt sống, chấn thương
                                    cột sống,…
                                </li>
                                <li>
                                    - Phẫu thuật sọ não: điều trị chấn thương sọ não, xuất
                                    huyết não, u não, dị dạng mạch máu não,…
                                </li>
                                <li>- Can thiệp điều trị các bệnh lý mạch máu não.</li>
                            </ul>
                            <div class="title-list">Thành tựu đạt được:</div>
                            <p>
                                Khoa Ngoại Thần Kinh đã triển khai thành công nhiều kỹ thuật
                                tiên tiến trong phẫu thuật thần kinh, giúp nâng cao hiệu quả
                                điều trị và giảm thiểu biến chứng sau mổ, bao gồm:
                            </p>
                            <ul>
                                <li>
                                    - Phẫu thuật nội soi cột sống, giảm thiểu xâm lấn, rút
                                    ngắn thời gian hồi phục.
                                </li>
                                <li>
                                    - Phẫu thuật cột sống bắt vít qua da ít xâm lấn, tăng độ
                                    chính xác và giảm đau sau mổ.
                                </li>
                                <li>
                                    - Thay thân sống điều trị các bệnh lý cột sống phức tạp.
                                </li>
                                <li>
                                    - Đặt dẫn lưu não thất ra ngoài (EVD shunt) trong điều trị
                                    các trường hợp tăng áp lực nội sọ do dãn não thất cần phải
                                    phẫu thuật cấp cứu. Đặt shunt não thất - ổ bụng (VP shunt)
                                    điều trị não úng thủy.
                                </li>
                                <li>
                                    - Triển khai phẫu thuật u não, góp phần cải thiện chất
                                    lượng sống cho bệnh nhân.
                                </li>
                                <li>
                                    - Can thiệp các bệnh lý mạch máu não, giúp phát hiện và
                                    điều trị sớm các tổn thương nguy hiểm.
                                </li>
                            </ul>
                            <div class="title-list">Trang thiết bị hiện có:</div>
                            <ul>
                                <li>
                                    - Bộ dụng cụ nội soi chuyên dụng phục vụ phẫu thuật cột
                                    sống và sọ não.
                                </li>
                                <li>
                                    - Kính vi phẫu hỗ trợ các ca phẫu thuật thần kinh có độ
                                    chính xác cao.
                                </li>
                                <li>
                                    - Hệ thống máy C-arm giúp định vị chính xác trong phẫu
                                    thuật cột sống, can thiệp giảm đau cột sống.
                                </li>
                            </ul>
                            <p>
                                Với những thành tựu và định hướng phát triển không ngừng,
                                Khoa Ngoại Thần Kinh - Bệnh viện Đa khoa Khu vực Thủ Đức cam
                                kết mang lại dịch vụ y tế chất lượng cao, góp phần nâng cao
                                sức khỏe và chất lượng cuộc sống cho người bệnh.
                            </p>
                            <p>Slogan của khoa: “Nơi của sự cảm thông và chia sẻ”</p>
                        </div>

                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Ngoại Thần Kinh", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-chan-thuong-chinh-hinh" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Chấn Thương Chỉnh Hình</h2>
                        <div class="content-list">
                            <p>
                                Khoa chấn thương chỉnh hình là một trong những khoa phát
                                triển lớn mạnh về chuyên môn của Bệnh viện, đảm nhận chức
                                năng điều trị các chấn thương cơ xương khớp và bệnh lý chỉnh
                                hình.
                            </p>
                            <p>
                                Với quy mô 70 giường bệnh, trang thiết bị hiện đại, nhân sự
                                nhiều kinh nghiệm trong điều trị và chăm sóc, chúng tôi sẵn
                                sàng đáp ứng mọi nhu cầu khám chữa bệnh của người dân và
                                mang đến sự hài lòng cao nhất cho người bệnh.
                            </p>
                            <p>Slogan của khoa: “Vững chuyên môn, bền vận động”</p>
                        </div>
                        <img src="~/asset/banner_01.jpg" class="img-fluid rounded mb-3" alt="" />

                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Chấn Thương Chỉnh Hình", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-ngoai-tiet-nieu" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Ngoại Tiết Niệu</h2>
                        <div class="content-list">
                            <p>
                                Với mục tiêu phát triển chuyên môn và đáp ứng sự hài lòng
                                của người bệnh, đồng thời được sự hỗ trợ chuyên môn của giáo
                                sư, bác sỹ ở các trường đại học và bệnh viện đầu ngành
                                TPHCM, chúng tôi đã thực hiện được các phẫu thuật phức tạp
                                với trang thiết bị hiện đại, tiếp cận được các tiến bộ y học
                                trên thế giới đáp ứng được nhu cầu khám, chữa bệnh cho người
                                dân.
                            </p>
                            <p>
                                Ngoài ra khoa chúng tôi còn là môi trường uy tín đào tạo
                                thực hành cho sinh viên các trường Đại học, Cao đẳng y khoa
                                trong khu vực và các tỉnh lân cận.
                            </p>
                            <p>Slogan của khoa: “An toàn thân thiện hiệu quả”</p>
                        </div>


                        <div class="personnel-section mt-3">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Ngoại Tiết Niệu", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-san" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Sản</h2>
                        <div class="content-list">
                            <div class="title-list">Lịch sử phát triển</div>
                            <p>
                                LKhoa sản - Bệnh viện ĐKKV Thủ Đức với chức năng nhiệm vụ
                                chính là chăm sóc sức khỏe sinh sản cho lứa tuổi sinh đẻ,
                                các bệnh lý sản phụ khoa, các vấn đề liên quan tuổi tiền mãn
                                kinh và mãn kinh…
                            </p>
                            <p>
                                Chúng tôi được trang bị những phương tiện máy móc hiện đại
                                nhằm phục vụ cho các sản phụ và bệnh nhân phụ khoa; cơ sở
                                vật chất rộng rãi, thoáng mát với hơn 70 giường nội trú; đội
                                ngũ nhân viên giàu kinh nghiệm trong chuyên môn, nhiệt tình,
                                tận tụy, hết lòng vì người bệnh. Chúng tôi đảm bảo người
                                bệnh sẽ hoàn toàn yên tâm khi đến với chúng tôi.
                            </p>
                            <p>
                                Slogan của khoa: “Cùng bạn vượt cạn - Vuông tròn hạnh phúc”
                            </p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Sản", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-tai-mui-hong" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Tai Mũi Họng</h2>
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <div class="content-list">
                                    <p>
                                        Khoa tai mũi họng là chuyên khoa có chức năng Khám và điều
                                        trị ngoại trú, nội trú các bệnh lý về Tai - Mũi - Họng.
                                    </p>
                                    <p>
                                        Chúng tôi được trang bị những máy móc hiện đại, cùng đội ngũ
                                        nhân viên có kinh nghiệp, nhiệt tình, năng động đáp ứng nhu
                                        cầu khám chữa bệnh chuyên khoa của người dân.
                                    </p>
                                    <p>Slogan của khoa: “Luôn lắng nghe và chia sẻ”</p>
                                </div>

                            </div>
                            <div class="col-md-4">
                                <div id="carouselNoiTimMach" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3200">
                                    <div class="carousel-inner rounded shadow-sm content-carousel">
                                        <div class="carousel-item active"><img src="~/asset/banner_02.jpg" class="d-block w-100" alt="1" /></div>
                                        <div class="carousel-item"><img src="~/asset/banner_03.jpg" class="d-block w-100" alt="2" /></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Tai Mũi Họng", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-rang-ham-mat" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Răng Hàm Mặt</h2>
                        <div class="content-list">
                            <p>
                                Khoa răng hàm mặt là chuyên khoa có chức năng Khám và điều trị
                                ngoại trú, nội trú các bệnh lý về Răng - Hàm - Mặt.
                            </p>
                            <p>
                                Slogan của Khoa: “Chăm sóc và bảo vệ nụ cười cho mọi người”
                            </p>

                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa răng hàm mặt", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-mat" class="content-section" data-aos="fade-left" data-aos-duration="1000">
                        <h2>Khoa Mắt</h2>
                        <div class="content-list">
                            <p>
                                Khoa mắt được thành lập vào tháng 06/2011, là một trong
                                những chuyên khoa sâu, Khoa Mắt được đầu tư mạnh tại bệnh
                                viện với đội ngũ y bác sỹ tận tâm và giàu kinh nghiệm, luôn
                                ứng dụng những tiến bộ mới trong công tác chẩn đoán và điều
                                trị.
                            </p>
                            <p>
                                Khoa mắt cung cấp dịch vụ khám và điều trị toàn diện các
                                bệnh lý về mắt cho bệnh nhân ở mọi lứa tuổi.
                            </p>
                            <p>
                                Chúng tôi cam kết đem đến cho khách hàng dịch vụ khám và
                                điều trị bệnh có chất lượng cao, sự thoải mái và chi phí
                                tiết kiệm.
                            </p>
                            <p>Slogan của khoa: “Vì một thế giới không đau mắt”</p>

                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6">@RenderDoctors("Khoa Mắt", Model, positionMap)</div>
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                            </div>
                        </div>
                    </section>

                    <section id="khoa-gay-me-hoi-suc" class="content-section" data-aos="fade-right" data-aos-duration="1000">
                        <h2>Khoa Gây Mê - Hồi Sức</h2>
                        <div class="content-list">
                            <p>
                                Cùng với sự phát triển của một Bệnh viện, Khoa gây mê hồi
                                sức từng bước phát triển để đảm bảo cho công tác phẫu thuật
                                của các khoa ngoại. Từ khi được thành lập đến nay, khoa gây
                                mê hồi sức đã phẫu thuật cho hơn 15.000 ca.
                            </p>
                            <p>
                                Với cơ sở vật chất: 10 phòng mổ với đầy đủ trang thiết bị
                                phục vụ tối đa trong công tác chăm sóc sức khỏe bệnh nhân
                                theo từng chuyên khoa.
                            </p>
                            <p>
                                Đội ngũ nhân lực trẻ, năng động, không ngừng học tập phấn
                                đấu, hoàn thiện bản thân góp phần vào sự nghiệp chăm sóc sức
                                khỏe cho người dân.
                            </p>
                            <p>Slogan của khoa: “Gây mê hiệu quả - Phẫu thuật an toàn”</p>
                        </div>
                        <div class="personnel-section">
                            <h3>Nhân sự</h3>
                            <div class="row">
                                <div class="col-md-6 img"><img src="~/asset/banner_03.jpg" class="img-fluid rounded shadow-sm" /></div>
                                <div class="col-md-6">@RenderDoctors("Khoa Gây Mê - Hồi Sức", Model, positionMap)</div>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>
    </div>
</main>

<div class="modal fade" id="personnelModal" tabindex="-1" aria-labelledby="personnelModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="personnelModalLabel">Thông tin Bác Sĩ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <img id="modalDirectorImage" src="" class="img-fluid rounded" alt="Ảnh bác sĩ" />
                    </div>
                    <div class="col-md-8">
                        <h3 id="modalDirectorName" class="director-name-modal"></h3>
                        <span id="modalDirectorRole" class="director-role-modal"></span>
                        <table class="table table-borderless table-sm mt-3">
                            <tbody>
                                <tr><td style="width: 120px"><strong>Thông tin:</strong></td><td id="modalDirectorHocVi"></td></tr>
                                <tr><td><strong>Chuyên khoa:</strong></td><td id="modalDirectorChuyenKhoa"></td></tr>
                                <tr><td><strong>Chức vụ:</strong></td><td id="modalDirectorChucVu"></td></tr>
                                <tr><td><strong>Lịch làm việc:</strong></td><td id="modalDirectorLich"></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" style="background-color: var(--main); border-color: var(--main)">Đóng</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var personnelModal = document.getElementById("personnelModal");
            if (personnelModal) {
                personnelModal.addEventListener("show.bs.modal", function (event) {
                    // Lấy nút vừa được bấm
                    var button = event.relatedTarget;

                    // Lấy dữ liệu từ data attribute
                    var name = button.getAttribute("data-name");
                    var role = button.getAttribute("data-role");
                    var image = button.getAttribute("data-image");
                    var hocvi = button.getAttribute("data-hocvi");
                    var chuyenkhoa = button.getAttribute("data-chuyenkhoa");
                    var chucvu = button.getAttribute("data-chucvu");
                    var lich = button.getAttribute("data-lichlamviec");

                    // Đổ dữ liệu vào Modal
                    personnelModal.querySelector("#modalDirectorName").textContent = name;
                    personnelModal.querySelector("#modalDirectorRole").textContent = role;
                    personnelModal.querySelector("#modalDirectorImage").src = image;
                    personnelModal.querySelector("#modalDirectorHocVi").textContent = hocvi;
                    personnelModal.querySelector("#modalDirectorChuyenKhoa").textContent = chuyenkhoa;
                    personnelModal.querySelector("#modalDirectorChucVu").textContent = chucvu;
                    personnelModal.querySelector("#modalDirectorLich").textContent = lich;
                });
            }
        });
    </script>
}